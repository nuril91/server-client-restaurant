@baseUrl = http://server-client-restaurant.test

### 1) Create a task (server requests a file from a client)
POST {{baseUrl}}/api/tasks
Content-Type: application/json

{
    "client_id": "client_01",
    "action": "send_file"
}

### 2) Client polls for task (simulate on-prem client asking for work)
# Run this after creating a task above; should return action=send_file and a task_id
GET {{baseUrl}}/api/tasks/client_01

### 3) Client uploads the requested file to server (multipart)
# Replace task_id below with the one returned from the poll step.
# The file path is relative to this .http file; adjust if needed.
POST {{baseUrl}}/api/upload
Content-Type: multipart/form-data

client_id=client_01
task_id=3
file=@C:\laragon\www\server-client-restaurant\storage\app\data\sample.txt

### Alternative if no.3 above not working
POST http://server-client-restaurant.test/api/upload
Content-Type: multipart/form-data; boundary=----LaravelUploadBoundary

------LaravelUploadBoundary
Content-Disposition: form-data; name="client_id"

client_01
------LaravelUploadBoundary
Content-Disposition: form-data; name="task_id"

4
------LaravelUploadBoundary
Content-Disposition: form-data; name="file"; filename="sample.txt"
Content-Type: text/plain

< ./storage/app/data/sample.txt
------LaravelUploadBoundary--

### 4) (Optional) Update task status manually
# Only if you want to explicitly set status; server already marks completed on successful upload.
PATCH {{baseUrl}}/api/tasks/1
Content-Type: application/json

{
    "status": "completed"
}
